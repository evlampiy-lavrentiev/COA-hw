# Тестирование скорости сериализации и десериализации

Данный модуль создан для тестирования и сравнения между друг другом эффективности сериализации и десериализации различных типов данных

## Поддерживаемые форматы:
- avro,
- json
- message pack
- native (нативная сериализация в языке go)
- proto,
- xml
- yaml,

## Установка:
- Скачать репозиторий `git clone https://github.com/evlampiy-lavrentiev/COA-hw.git`
- Скачать docker-compose

## Тестирование
- Зайти в репозиторий
- В одном терминале запустить docker-compose `docker-compose build --up`
- В другом сделать http запрос `wget -q -O - localhost:2000/get_result?format=all`

### Доступные `format`
- Один из avro, json, mpack, native, proto, xml, yaml
- all (используется UDP multicast)



# Ифраструктура
## **worker**
На каждый формат сериализации создаётся докер контейнер, который начинает слушать входящие сообщения по по порту, указанному в `docker-compose.yml`. В ответ отправляет сообщение с результатом тестирования данного формата в следующем виде: {формат сериализации} – {размер структуры в байтах} – {среднее время сериализации }us – {среднее время десериализации}us 

Так же слушает Multicast сообщения и так же отвечает на них. Мультикаст адрес указан как environment переменная в `worker.Dockerfile`
## **proxy**
Выступает как proxy, с торчащим портом 2000 наружу. Принимает по нему http запросы и на каждый из них отправляет сообщения необходимым worker'ам. При необходимости отправляет запрос на multicast адрес, указанный в докерфайле.